# Makefile for testing kernel compilation
# This is a minimal test makefile - full build would use CMake

CXX = g++
CXXFLAGS = -std=c++17 -I./include -I./cuda -Wall -Wextra

# Object files
TEST_OBJ = test_kernels.o

# All tests
.PHONY: all test clean

all: test

test: $(TEST_OBJ)
	@echo "Kernel compilation test (CPU stubs only)"
	@echo "Note: Full CUDA compilation requires nvcc and CMake"

test_kernels.o: tests/kernels/test_k1_activemask.cpp tests/kernels/test_k3_finetransport.cpp
	$(CXX) $(CXXFLAGS) -c tests/kernels/test_k1_activemask.cpp -o /tmp/test_k1.o
	$(CXX) $(CXXFLAGS) -c tests/kernels/test_k3_finetransport.cpp -o /tmp/test_k3.o
	@echo "Kernel test files compiled successfully (CPU stubs)"

clean:
	rm -f *.o /tmp/test_*.o
