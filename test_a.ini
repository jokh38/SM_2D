# SM_2D Simulation Configuration - Minimal Conservation Test
# Single cell, no lateral spreading, conservation verification

[particle]
# Particle type: proton, electron, positron, alpha, carbon_ion, custom
type = proton
# Particle mass in atomic mass units
mass_amu = 1.0
# Particle charge in elementary charge units
charge_e = 1.0

[beam]
# Beam profile type: pencil, gaussian, flat, custom
#   pencil    - Point source, no spatial spread
#   gaussian  - Gaussian spatial/energy/angular distribution
#   flat      - Uniform circular/rectangular beam
#   custom    - User-defined profile
profile = pencil
# Beam weight/intensity (positive value, default: 1.0)
weight = 1.0

[energy]
# Mean/central energy (MeV)
mean_MeV = 150.0
# Energy spread (MeV), 0 = monoenergetic
sigma_MeV = 0.0
# Minimum energy cutoff (MeV)
min_MeV = 0.0
# Maximum energy cutoff (MeV)
max_MeV = 250.0

[spatial]
# Central position X (mm)
x0_mm = 0.0
# Central position Z (mm)
z0_mm = 0.0
# Spatial spread X (mm) - for gaussian profile
sigma_x_mm = 0.01
# Spatial spread Z (mm) - for gaussian profile
sigma_z_mm = 0.01
# (Optional) Beam width X (mm) - for flat beam
# width_x_mm = 0.0
# (Optional) Beam width Z (mm) - for flat beam
# width_z_mm = 0.0
# (Optional) Circular beam radius (mm) - for flat beam
# radius_mm = 0.0

[angular]
# Central angle in X-Z plane (radians)
theta0_rad = 0.0
# Angular divergence (radians), 0 = no divergence
sigma_theta_rad = 0.0
# (Optional) Central angle in Y-Z plane (radians) - for 3D extension
# phi0_rad = 0.0
# (Optional) Angular divergence Y (radians) - for 3D extension
# sigma_phi_rad = 0.0

[sampling]
# Number of samples for distributed sources
n_samples = 1
# Random seed for reproducibility
random_seed = 42
# Use stratified sampling: true, false
use_stratified = false

[grid]
# Number of transverse bins
Nx = 1
# Number of depth bins
Nz = 1
# Transverse spacing (mm)
dx_mm = 50.0
# Depth spacing (mm)
dz_mm = 50.0
# Maximum simulation steps
max_steps = 200

[output]
# Output directory path
output_dir = results/test_a
# 2D dose distribution file name
dose_2d_file = dose_2d.txt
# Depth-dose (PDD) file name
pdd_file = pdd.txt
# LET file name (empty = don't output LET)
let_file = ""
# Output format: txt, csv, hdf5
format = txt
# Normalize dose to maximum: true, false
normalize_dose = false
# Save 2D dose distribution: true, false
save_2d = true
# Save depth-dose curve: true, false
save_pdd = true
# Save lateral profiles at specified depths: true, false
save_lat_profiles = false